(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{194:function(e,o,t){"use strict";o.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},307:function(e,o,t){"use strict";t.r(o);var r=t(0),a=t(194),n=t(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.a.config.optionMergeStrategies;var l={VueRemarkRoot:a.a},i=function(e){var o=e.options.components=e.options.components||{},t=e.options.computed=e.options.computed||{};Object.keys(l).forEach((function(e){"object"===s(l[e])&&"function"==typeof l[e].render?o[e]=l[e]:t[e]=function(){return l[e]}}))},u=n.a.config.optionMergeStrategies,c="__vueRemarkFrontMatter",d={excerpt:null,title:"Deploy to Google Cloud Platform"};var p=function(e){e.options[c]&&(e.options[c]=d),n.a.util.defineReactive(e.options,c,d),e.options.computed=u.computed({$frontmatter:function(){return e.options[c]}},e.options.computed)},g=Object(r.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("VueRemarkRoot",[t("h1",{attrs:{id:"deploy-to-google-cloud-platform"}},[t("a",{attrs:{href:"#deploy-to-google-cloud-platform","aria-hidden":"true"}},[e._v("#")]),e._v("Deploy to Google Cloud Platform")]),t("h2",{attrs:{id:"prerequisites"}},[t("a",{attrs:{href:"#prerequisites","aria-hidden":"true"}},[e._v("#")]),e._v("Prerequisites:")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",{pre:!0,attrs:{class:"language-text"}},[e._v("  1. Create a project op Google Cloud Platform\n  2. Have acces to DNS record of your domain\n  ")])]),t("p",[e._v("You can host a static website on a Google Cloud Storage bucket for a domain you own.")]),t("p",[e._v("The downside to this is that you can only use HTTP.\nPlease Follow this "),t("a",{attrs:{href:"https://cloud.google.com/storage/docs/hosting-static-website",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("tutorial")]),e._v(" for a HTTP only website")]),t("p",[e._v("The HTTPS configuration is a bit more complex.")]),t("h1",{attrs:{id:"steps-to-complete"}},[t("a",{attrs:{href:"#steps-to-complete","aria-hidden":"true"}},[e._v("#")]),e._v("Steps to complete")]),t("h2",{attrs:{id:"use-a-cloud-storage-bucket-as-a-load-balancer-backend"}},[t("a",{attrs:{href:"#use-a-cloud-storage-bucket-as-a-load-balancer-backend","aria-hidden":"true"}},[e._v("#")]),e._v("Use a Cloud Storage bucket as a load balancer backend")]),t("p",[e._v(" Steps:")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",{pre:!0,attrs:{class:"language-text"}},[e._v("  1. Configure a Cloud Storage bucket\n  2. Configure a load balancing service\n  3. Create an external adress")])]),t("p",[e._v("Please follow the steps in the well documented Google "),t("a",{attrs:{href:"https://cloud.google.com/load-balancing/docs/https/adding-a-backend-bucket-to-content-based-load-balancing",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("tutorial")])]),t("h2",{attrs:{id:"set-main-and-error-page-for-bucket"}},[t("a",{attrs:{href:"#set-main-and-error-page-for-bucket","aria-hidden":"true"}},[e._v("#")]),e._v("Set main and error page for bucket")]),t("p",[e._v("gsutil web set -m index.html -e 404.html gs://your-bucket-name\n"),t("a",{attrs:{href:"https://cloud.google.com/storage/docs/gsutil/commands/web",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Documentation")])]),t("h1",{attrs:{id:"google-cloud-build"}},[t("a",{attrs:{href:"#google-cloud-build","aria-hidden":"true"}},[e._v("#")]),e._v("Google cloud build")]),t("h2",{attrs:{id:"setup-google-source-repositories"}},[t("a",{attrs:{href:"#setup-google-source-repositories","aria-hidden":"true"}},[e._v("#")]),e._v("Setup Google Source Repositories")]),t("p",[t("a",{attrs:{href:"https://cloud.google.com/source-repositories/docs/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Documentation")])]),t("h2",{attrs:{id:"add-build-trigger"}},[t("a",{attrs:{href:"#add-build-trigger","aria-hidden":"true"}},[e._v("#")]),e._v("Add Build trigger")]),t("p",[e._v("Create a new "),t("a",{attrs:{href:"https://console.cloud.google.com/cloud-build/triggers",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("trigger")])]),t("p",[e._v("Add a cloudbuild.yaml to the root of the project containing")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",{pre:!0,attrs:{class:"language-text"}},[e._v('steps:\n- name: \'gcr.io/cloud-builders/npm\'\nargs: [\'install\']\n- name: \'gcr.io/cloud-builders/npm\'\nargs: [\'run\' , \'build\']\n- name: \'gcr.io/cloud-builders/gsutil\'\nargs: ["-m", "rsync", "-r", "-c", "-d", "./dist", "gs://bucket-name"]')])]),t("p",[e._v("Last build step is to push static files to your bucket")]),t("h2",{attrs:{id:"link-dns-record-to-reserved-external-google-ip"}},[t("a",{attrs:{href:"#link-dns-record-to-reserved-external-google-ip","aria-hidden":"true"}},[e._v("#")]),e._v("Link DNS record to reserved external Google IP")]),t("p",[e._v("You must link these to resolve your domain to our external Google IP adress.\nThis can be done in your DNS service")])])}),[],!1,null,null,null);"function"==typeof i&&i(g),"function"==typeof p&&p(g);o.default=g.exports}}]);